# 锁

### 锁分类
```
1. 全局锁
2. 表锁
3. 行锁
```


### 全局锁 
```
flush tables with read lock
unlock tables
```

### 特点
```
库的状态变成只读
常用于备份


(但是备份不一定需要全局锁，mysqldump –single-transaction在备份前开启事务，可重复读隔离级别，此时业务可以对数据进行更新操作，事务的隔离性)
```

### 行锁

```
1. 共享锁(Share Lock)读锁

SELECT ... LOCK IN SHARE MODE;

2. 排他锁(Exclusive Lock)写锁

SELECT ... FOR UPDATE;

```

[MySQL行级锁](https://cloud.tencent.com/developer/article/2031752)

```
1. record lock(记录)
2. gap lock(间隙)
3. next-key lock(临键)
```
