# 从数据页的角度看 B+ 树

1. innodb按数据页为单位读写 innodb数据页大小默认16kb
2. 页结构：文件头、页头、行记录、页目录、文件尾
3. 数据页之间 双向链表连接 （页之间不需要是物理上的连续的，而是逻辑上的连续）


### 数据页中的记录按照「主键」顺序组成单向链表   居然是单向的
### 数据页中的记录按照「主键」顺序组成单向链表
### 数据页中的记录按照「主键」顺序组成单向链表

> 看图 -- 数据页之中，有很多行记录，他们之间是单向链表 

### 页目录之中还有一个单位叫 槽 ，行记录按照主键大小 由小到大排序

### 定位行记录
```
页目录 --- 槽（行记录分组） --- 行记录


页到槽的定位，二分法快速定位要查询的记录在哪个槽 （槽内的行记录分组遍历查找）
```

### B+ 树中的每个节点都是一个数据页
### B+ 树中的每个节点都是一个数据页
### B+ 树中的每个节点都是一个数据页
### B+ 树中的每个节点都是一个数据页
### B+ 树中的每个节点都是一个数据页

### B+ 树是如何进行查询的 （“矮胖”的 B+ 树数据结构）



### 聚簇索引和非聚簇索引（二级索引）

1. 聚簇  叶子节点存放  完整的用户记录
2. 二级索引  叶子结点存放  主键值

### InnoDB 的表后一定会有 1 个聚簇索引 ，聚簇索引只能有一个 ， 数据在物理上只会保存一份
### InnoDB 的表后一定会有 1 个聚簇索引 ，聚簇索引只能有一个 ，数据在物理上只会保存一份
### InnoDB 的表后一定会有 1 个聚簇索引 ，聚簇索引只能有一个 ， 数据在物理上只会保存一份
### InnoDB 的表后一定会有 1 个聚簇索引 ，聚簇索引只能有一个 ， 数据在物理上只会保存一份
### InnoDB 的表后一定会有 1 个聚簇索引 ，聚簇索引只能有一个 ， 数据在物理上只会保存一份


## 聚簇索引的可能
1. 主键
2. 第一个不包含 NULL 值的唯一列
3. 自动生成隐式自增 id 


### 回表

> 二级索引找到主键，再去聚簇索引找数据 

### 索引覆盖

> 二级索引就能找到需要的数据（不用再去聚簇索引查）
