# 发生了什么

1. 连接器

    基于TCP，先三次握手建立连接，这个就是MySQL连接池

2. 查询缓存

    MySQL语句为k，值为v，表更新就会将缓存删除，索引缓存命中率很低，MySQL8.0 已经删除查询缓存

3. 解析SQL

    词法分析

    语法分析

4. 执行SQL

    预处理器

    优化器

    执行器
        
        主键索引查询

        全表扫描

        索引下推


# 备注

1. InnoDB 支持索引类型是 B+树 

2. 查看MySQL服务有多少客户端连接
```
show processlist
```
空闲的时长是 736 秒（ Time 列）

3. 空闲连接会一直占用着吗,不会，有个最大等待时长
```
show variable like 'wait_timeout';
```



