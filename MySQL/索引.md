
# 什么是索引


### 索引分类

1. 数据结构角度

B+tree \ hash \ full-text

2. 字段特性角度

主键索引、唯一索引、普通索引、前缀索引。

3. 字段个数角度

单列索引、联合索引


### 什么时候需要/不需要创建索引

### 如何优化索引
```
1.前缀索引
2.覆盖索引
3.主键索引(长度小\自增[防止页分裂])
4.NOT NULL(统计和值比较变得复杂)
5.防止索引失效(左或者左右模糊匹配\联合索引\OR查找)
```

[谁还没碰到过索引失效呢](https://mp.weixin.qq.com/s/lEx6iRRP3MbwJ82Xwp675w)

### 执行计划
```
type 有6个值 (全表\唯一索引\非唯一索引\唯一索引且和常量值比较\索引范围\全索引扫描)
ALL >>> const
```

### 页分裂
```
MySQL的索引B+树以数据页的方式存储
当非自增主键添加值的时候，插入位置随机，有时候需要移动现有数据页到另一个数据页的情况
这种数据页数据之间复制转存的现象就是页分裂
```


### 唯一索引和普通索引有什么区别
```
唯一性
加锁的区别
```


### 主键索引和辅助索引有什么区别
```
B+树结构
回表
索引覆盖
```