# 为什么说MySQL的表行数不要超过2000行

[MySQL 单表不要超过 2000W 行，靠谱吗？](https://mp.weixin.qq.com/s/N3te_fVBeqhjIpl25N6kpA)


### 关键词

```
数据模拟
临时表内存设置
MySQL8.0
100w\200w\1000w\2000w\2400w
Query\Count
```

### bit 和表示数字数量

```
4 bit 可以表示 0000 0001 0010 0011 0100 0101 0110 0111 1000 1001 1010 1011 1100 1101 1110 1111
2^4 = 16 个数字

2 bit 可以表示  00 01 10 11 
2^2 = 4

1 bit 可以表示 0 1
2^1 = 2
```



### 关于主键的类型选择

```
tips: 为什么减1是因为有一个数字是0

tinyint(1个字节) 最多表示 2^8 个数字 -128~127

smallint(2个字节) 2^16

int32 unsigned (4个字节) 2^32 - 1 = 21亿 

bigint(8个字节) unsigned 2^64 - 1 如果非unsigned 是 -2^63 2^63 - 1
```

### 如果选择 unsigned int (42亿) 按照每秒钟insert 10条的话大概需要13年 , 而bigint 一秒增加1亿也要五千年


### 存储引擎角度

```
innodb B+

硬盘 person.ibd （innodb data）的文件 （表空间）

物理上一个 ibd 文件里面有很多数据页（16kb）

页里面存储空间7个， 其中 user record 才是具体行记录内容

一堆计算... 

B+ 2层 1.92w
B+ 3层 2.45kw 也就是 2000w

超过3层IO次数增加
```



